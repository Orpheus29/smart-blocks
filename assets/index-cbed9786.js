(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&e(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=a(t);fetch(t.href,i)}})();function B(r,n){const a=r.map((o,s)=>({...o,initialOrder:s+1}));a.sort((o,s)=>s.width*s.height-o.width*o.height);const e=[];let t=0;function i(o){function s(l,c,f){function C(p,x){return x.some(m=>p.left<m.right&&p.right>m.left&&p.top<m.bottom&&p.bottom>m.top)}const y={top:c-f.height,left:l,right:l+f.width,bottom:c,initialOrder:f.initialOrder};return C(y,e)?!1:(e.push(y),!0)}let u=!1;for(let l=0;l<2;l++){if(!u)for(let c=n.height;c>=o.height;c--){for(let f=0;f<=n.width-o.width;f++)if(s(f,c,o)){u=!0;break}if(u)break}[o.width,o.height]=[o.height,o.width]}if(!u){let l=document.querySelector(".errorList");l||(l=document.createElement("div"),l.className+="output errorList",g.appendChild(l));const c=document.createElement("p");c.className="errorMessage",c.innerText=`Блок номер ${o.initialOrder} не умістився в даному контейнері`,l.appendChild(c)}}a.forEach(i);const d=a.reduce((o,s)=>o+s.width*s.height,0),h=n.width*n.height-d;return document.querySelector(".errorList")||(t=1-h/(h+d)),{fullness:t,blockCoordinates:e}}function N(r,n){function a(){const o="0123456789ABCDEF";let s="#";for(let u=0;u<6;u++)s+=o[Math.floor(Math.random()*16)];return s}const e=document.createElement("div");e.className="block",e.style.width=r.right-r.left+"px",e.style.height=r.bottom-r.top+"px",e.style.top=r.top+"px",e.style.left=r.left+"px";const t=`${e.style.width}_${e.style.height}`,i=`${e.style.height}_${e.style.width}`,d=n[t]||n[i]||(n[t]=a());e.style.backgroundColor=d;const h=document.createElement("p");return h.className="block-number",h.innerText=r.initialOrder,e.appendChild(h),e}function E(){g.innerHTML="",w=L();const r=B(O,w);console.log(r),r.blockCoordinates.forEach(a=>{const e=N(a,v);g.appendChild(e)});const n=document.createElement("p");n.className+="output fullness",r.fullness||n.classList.add("error-fullness"),n.innerText=`Fullness: ${r.fullness?r.fullness.toFixed(2):0}`,g.appendChild(n)}function L(){return{width:window.innerWidth-1,height:window.innerHeight-1}}window.addEventListener("load",E);window.addEventListener("resize",E);let w=L();const g=document.body,v={};async function M(){try{return await(await fetch("blocks.json")).json()}catch(r){console.error("Error reading blocks.json:",r)}}let O=[];(async()=>O=await M())();
